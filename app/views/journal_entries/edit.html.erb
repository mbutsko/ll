<div class="min-h-screen bg-gray-50">
  <nav class="bg-white border-b border-gray-200">
    <div class="max-w-5xl mx-auto px-6 py-4 flex items-center justify-between">
      <span class="text-lg font-semibold text-gray-900">Edit Journal Entry</span>
      <%= link_to "Back", root_path, class: "text-sm text-gray-500 hover:text-gray-700 transition" %>
    </div>
  </nav>

  <main class="max-w-3xl mx-auto px-6 py-10">
    <div class="bg-white rounded-xl shadow-sm border border-gray-200 p-6">
      <%= form_with model: @journal_entry, url: journal_entry_path(@journal_entry), method: :patch, class: "space-y-5" do |f| %>
        <div>
          <%= f.label :body, "Entry", class: "block text-sm font-medium text-gray-700 mb-1" %>
          <%= f.text_area :body, rows: 4, required: true,
                class: "w-full rounded-lg border border-gray-300 px-4 py-2 text-gray-900 placeholder-gray-400 focus:border-blue-500 focus:ring-1 focus:ring-blue-500 outline-none transition resize-y" %>
        </div>

        <% if @labels.any? %>
          <div>
            <label class="block text-sm font-medium text-gray-700 mb-2">Labels</label>
            <div class="flex flex-wrap gap-2">
              <% @labels.each do |label| %>
                <label class="inline-flex items-center gap-1.5 cursor-pointer">
                  <input type="checkbox" name="journal_entry[label_ids][]" value="<%= label.id %>"
                    <%= "checked" if @journal_entry.labels.include?(label) %>
                    class="h-3.5 w-3.5 rounded border-gray-300 text-blue-600 focus:ring-blue-500">
                  <span class="inline-block px-2 py-0.5 rounded-full text-xs font-medium <%= label_color_classes(label.color) %>"><%= label.name %></span>
                </label>
              <% end %>
            </div>
          </div>
        <% end %>

        <div>
          <%= f.label :recorded_at, "Date & Time", class: "block text-sm font-medium text-gray-700 mb-1" %>
          <%= f.datetime_local_field :recorded_at, step: 60,
                class: "w-full rounded-lg border border-gray-300 px-4 py-2 text-gray-900 focus:border-blue-500 focus:ring-1 focus:ring-blue-500 outline-none transition" %>
        </div>

        <div class="flex items-center gap-3 pt-2">
          <%= f.submit "Save", class: "bg-blue-600 text-white font-medium px-5 py-2 rounded-lg hover:bg-blue-700 active:bg-blue-800 transition cursor-pointer" %>
          <%= link_to "Cancel", root_path, class: "text-sm text-gray-500 hover:text-gray-700 transition" %>
        </div>
      <% end %>
    </div>
  </main>
</div>
